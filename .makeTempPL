
# simply change filename to your filename where ever it appears
# Commands list
# make all  - your standard make all targets
# make run1 - will run make all, run you executable and then the customPlot code
# make run2 - will run make all, run you executable and then the pyplots code

F90C = ifort
F90FLAGS = -O2
CFLAGS = -O2 -mkl

LIBS = -lmkl_lapack95_lp64
MYLIBS = -I$(DIR)

# Comment out PLPLOT if it wasn't installed and all of its appearance's
# PLPLOT =
PLPLOT = $(DIR)PLplots.o -lplplotfortran -lplplot $$(pkg-config --cflags --libs plplot-fortran)

# Library object files
LIBOBJS = $(DIR)kinds.o\
	$(DIR)lapack.o\
	$(DIR)numFort.o

%.o: %.f90
	$(F90C) $(CFLAGS) -c $<

#--------------------------Editable MakeFile-------------------------


# Own personal object files
OBJS = 

all: filename
run1: all execute customPlot
run2: all execute pyplots

filename: filename.f90 $(OBJS)
	$(F90C) $(CFLAGS) -o $@ $< $(OBJS) $(LIBOBJS) $(LIBS) $(MYLIBS)
execute: 
	./qmc1996CodeFit


#-----------------------Creates Plotting files-----------------------
customPlot: 
	if [ ! -f customPlot.py ] ; \
	then \
		touch customPlot.py; \
		cat $(DIR)/customPlot.py >> customPlot.py; \
		chmod +x customPlot.py; \
	fi; \
        ./customPlot.py

pyplots:
	if [ ! -f pyplots.py ] ; \
	then \
		touch pyplots.py; \
		cat $(DIR)/pyplots.py >> pyplots.py; \
		chmod +x pyplots.py; \
	fi; \
        ./pyplots.py

clean:
	rm *.o *.mod customPlot.py pyplots.py
